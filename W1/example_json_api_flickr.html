<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>DWD278 - Week 1 - Example: jQuery.getJSON demo / Flickr API</title>
    <style>
        img {
            height: 300px;
            float: left;
            margin: 15px;
        }
    </style>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
</head>
<body>

    <h1>Example 4 - Basic Async Data Transfer - Flickr Example</h1>

    <!-- This is where the AJAX call results will be placed using jQuery: -->
    <div id="images"></div>

    <script>
        $(document).ready(function () {
            var flickerAPIurl = "https://api.flickr.com/services/feeds/photos_public.gne?jsoncallback=?";
            var numItems = 5;

            // jQuery is making a call to Flickr API
            $.getJSON(
                flickerAPIurl,
                {
                    tags: "cats",
                    tagmode: "any",
                    format: "json"
                })
                .done(function (data) {
                    $.each(data.items, function (i, item) {
                        $("<img>").attr("src", item.media.m).appendTo("#images");
                        if (i === numItems) {
                            return false;
                        }
                    });
                });
        });
    </script>

</body>
</html>